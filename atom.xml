<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Doyayaa&#39;s Blog</title>
  
  
  <link href="http://doyayaa.github.io/atom.xml" rel="self"/>
  
  <link href="http://doyayaa.github.io/"/>
  <updated>2023-11-29T07:16:12.601Z</updated>
  <id>http://doyayaa.github.io/</id>
  
  <author>
    <name>Doyayaa</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用Hexo搭建个人博客</title>
    <link href="http://doyayaa.github.io/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://doyayaa.github.io/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</id>
    <published>2023-11-26T15:00:26.000Z</published>
    <updated>2023-11-29T07:16:12.601Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近闲来无事就学习了一下如何搭建网站。之前就尝试过使用WordPress在云服务器上部署网站。这次碰巧看到一篇使用Hexo搭建网站的文章就尝试了一下。Hexo的好处就是直接部署在GitHub上，不需要花钱租服务器了，但部署在GitHub的坏处就是访问实在过于慢，或许部署在国内的<a href="https://coding.net/">CODING</a>上能加快访问速度，此次我只尝试了部署在GitHub。在此特别感谢B站UP主<a href="https://space.bilibili.com/32512116?spm_id_from=333.337.0.0">Homepea</a>的教程。</p><h1 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h1><h2 id="GitHub搭建仓库"><a href="#GitHub搭建仓库" class="headerlink" title="GitHub搭建仓库"></a>GitHub搭建仓库</h2><p>登录到<a href="https://github.com/">GitHub</a>，点击“+”，New repository。仓库名：用户名.github.io[固定写法]。选择仓库为<em><strong>Public</strong></em>[如果选择Private，后文提及的GitHub Pages就需要<em><strong>付费</strong></em>使用，建议设置为Public]。最后点击Create repository。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-41-16.jpg"></p><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><p>有关Git的介绍可以查看这篇<a href="https://zhuanlan.zhihu.com/p/99313784">文章</a>，这里不做具体讲解。从<a href="https://git-scm.com/downloads">Git官网</a>下载、解压、安装。鼠标右键打开Git Bash Here。Windows11需要点击显示更多选项。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-42-33.jpg"></p><p>如果鼠标右键没有Git Bash Here，按住‘Win + R’，打开运行，输入‘regedit’，打开注册表。点击计算机\HKEY_CLASSES_ROOT\Directory\Background\shell。在shell下新建一个项，命名为Git Bash Here。在shell下新建一个项，命名为Git Bash Here。新建字符串值数值名称为Icon，数据数值为所下载应用程序的位置[右键Git Bash，打开文件所在位置。例如：C:\Program Files\Git\git-bash.exe。如果桌面没有Git Bash，点击开始，查看所有应用，找到Git Bash，将Git Bash拖到桌面上]。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-42-55.jpg"></p><p>右击Get Bash Here新建项，名字为command。双击command中默认，修改数值数据[注意：数值数据为所下载git-bash.exe地址加<em><strong>空格</strong></em>加”–cd&#x3D;%v.”]，点击确定。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-43-15.jpg"></p><h2 id="设置Git"><a href="#设置Git" class="headerlink" title="设置Git"></a>设置Git</h2><p>设置user.name和user.email配置信息，需要输入双引号：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;GitHub用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;GitHub注册邮箱&quot;</span></span><br></pre></td></tr></table></figure><h2 id="生成ssh密钥文件"><a href="#生成ssh密钥文件" class="headerlink" title="生成ssh密钥文件"></a>生成ssh密钥文件</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;GitHub注册邮箱&quot;</span><br></pre></td></tr></table></figure><p>执行完了之后直接三个回车即可，默认不需要设置密码 然后在目录【C:\Users\XXX.ssh】文件夹下面找到id_rsa.pub密钥，如下所示：</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-43-33.jpg"></p><h2 id="复制到GitHub"><a href="#复制到GitHub" class="headerlink" title="复制到GitHub"></a>复制到GitHub</h2><p>点击头像，Settings，SSH and GPG keys，New SSH key或<a href="https://github.com/settings/keys">点击</a>。Title为标题，随意填即可。</p><p>在Git Bash检测GitHub公钥设置是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh git@github.com</span><br></pre></td></tr></table></figure><p>返回如下即成功：</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-43-56.jpg"></p><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p>点击<a href="https://nodejs.org/en/download/">Download</a>，选择Windows平台，按提示安装即可。</p><p>检测Node.js是否安装成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><p>检测npm是否安装成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>返回版本号即安装成功。</p><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>Hexo就是博客的框架，Hexo的具体使用教程可以查看<a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a>。这里需要在自己的电脑里创建一个文件夹，这里命名为Hexo，Hexo框架与以后你自己发布的网站都在这个文件夹中，创建好后，进入文件夹中 -&gt; Git Bash Here -&gt; 使用npm命令安装Hexo。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init Hexo</span><br></pre></td></tr></table></figure><p>由于之前创建了已Hexo文件夹，我们需要重新打开 Git Bash。打开Hexo文件夹中的Hexo文件夹。右键-&gt;Git Bash Here。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>执行结束后我们就可以打开网站了。在浏览器输入<a href="http://localhost:4000/">http://localhost:4000/</a>。</p><h2 id="将Hexo和GItHub关联"><a href="#将Hexo和GItHub关联" class="headerlink" title="将Hexo和GItHub关联"></a>将Hexo和GItHub关联</h2><p>在Hexo根目录里_config.yml文件成为站点配置文件，打开_config.yml修改deploy（yml文件是根据缩进来判断的，因此一定要注意空格的多少），具体的操作如下所示:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:GitHub用户名/GitHub用户名.github.io.git</span><br></pre></td></tr></table></figure><p>复制代码保存站点配置，其实就是让Hexo知道你要把Hexo部署在哪个位置，很明显，我们部署在我们GitHub仓库里，最后安装Git部署插件，在部署之前需要执行以下指令，让Hexo能够正确上传。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>复制代码这时，我们分别输入三条命令，即可在通过xxx.github.io看到我们的博客了，最后执行下列执行，分别是清理，重建页面和上传仓库三个操作，一般上传之后不能立马看到效果，需要等待十分钟左右。执行的指令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h1 id="域名购买和解析"><a href="#域名购买和解析" class="headerlink" title="域名购买和解析"></a>域名购买和解析</h1><h2 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h2><p>推荐使用阿里云或者腾讯云购买。这里以阿里云作为演示。点击域名注册，搜索自己想要的域名即可。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-44-13.jpg"></p><h2 id="仓库中添加CNAME文件"><a href="#仓库中添加CNAME文件" class="headerlink" title="仓库中添加CNAME文件"></a>仓库中添加CNAME文件</h2><p>在仓库中建立名为CNAME的文件(文件名大写，且没有后缀)，在CNAME文件中添加刚刚购买的域名，如[doyayaa.online]，不能包含：[http:&#x2F;&#x2F;]和[www.]，如下图所示：</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-44-29.jpg"></p><p>Github会自动解析，不过还是自己确认以下最好，点击仓库名上方菜单栏中的Settings，向下翻到[Pages]即可，找到自己的域名即可。但是注意，如果上传代码的话CNAME文件会丢失的，因此需要最本地的Hexo文件夹下面的[&#x2F;source]文件夹下面建一个CNAME文件，内容还是前面购买的域名，这样可以保证每次使用 ‘ hexo d ’ 指令的时候代码仓CNAME文件还在。这点一定要注意，否则上传了代码可能网站还进不去。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-44-45.jpg"></p><h2 id="添加域名解析"><a href="#添加域名解析" class="headerlink" title="添加域名解析"></a>添加域名解析</h2><p>ping你的github.io域名，得到一个IP，如下所示:</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-45-02.jpg"></p><p>登录到阿里云的<a href="https://dns.console.aliyun.com/?spm=a2c4g.11186623.2.12.d00459cbTbdzcz#/dns/domainList">云解析控制台</a>，如果没有登陆过就添加域名，然后点击右边的解析设置。我以Cloudflare作为演示，阿里云的操作一样。如果上面得到的地址是IPV4地址，类型选择A，如果是IPV6地址则选择AAAA，名称一个为：“www”，一个为：“@”。</p><p><img src="/2023/11/26/%E4%BD%BF%E7%94%A8Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/Snipaste_2023-11-27_19-45-15.jpg"></p><p>这样通过<a href="https://doyayaa.online/">doyayaa.online</a>和<a href="https://doyayaa.online/">www.doyayaa.online</a>两种方式就都可以访问自己的网站了。</p><h1 id="美化网站"><a href="#美化网站" class="headerlink" title="美化网站"></a>美化网站</h1><p>在这里推荐使用B站UP主<a href="https://space.bilibili.com/32512116?spm_id_from=333.337.0.0">Homepea</a>的<a href="https://pan.baidu.com/s/1FNSpeXTtoV4jwBZ7ztsizA?pwd=12vh">NEXT修改版</a>。Next主题自7.6.0版本开始，自动在首页对文章进行摘要描述作为前言文本的功能被移除，请自行安装第三方插件，或阅读 Hexo <a href="https://github.com/chekun/hexo-excerpt">有关文档</a>。没有这个功能的话对导致主页上面是文章的全部内容，显得非常的杂乱，相应的处理方法也是非常简单，自行安装‘ hexo-excerpt ’即可。</p><p>在Hexo目录下执行Git Bash</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-excerpt --save</span><br></pre></td></tr></table></figure><p>在配置文件_config.yml添加内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自动在首页对文章进行摘要描述作为前言文本</span></span><br><span class="line">excerpt:</span><br><span class="line">  depth: 3 <span class="comment">#摘要的内容多少</span></span><br><span class="line">  excerpt_excludes: []</span><br><span class="line">  more_excludes: []</span><br><span class="line">  hideWholePostExcerpts: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>主题的存放目录是 themes，将下载、解压好的主题文件复制到 themes。找到博客目录下的配置文件 _config.yml, 找到Extensions模块，修改字段。</p><p>使用的是默认主题，修改前的配置是这样的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line">theme: landscape</span><br></pre></td></tr></table></figure><p>修改成新下载的主题之后是这样的：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line">theme: light</span><br></pre></td></tr></table></figure><p>查找字符excerpt_description 改为true，如下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Automatically excerpt description in homepage as preamble text.</span></span><br><span class="line">excerpt_description: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>然后，通过运行命令 hexo s ，启动本地服务，通过<a href="http://localhost:4000/">http://localhost:4000/</a> 查看修改后的效果。</p><p>配置文件_config.yml中设置网站为中文：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure><p>运行以下命令，使主题更新到博客</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;最近闲来无事就学习了一下如何搭建网站。之前就尝试过使用WordPress在云服务器上部署网站。这次碰巧看到一篇使用Hexo搭建网站的文章就尝</summary>
      
    
    
    
    
  </entry>
  
</feed>
